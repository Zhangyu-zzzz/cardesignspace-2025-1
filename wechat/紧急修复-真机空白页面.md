# 🚨 紧急修复：真机调试页面空白

## 问题现象
- ✅ 微信开发者工具中页面正常显示
- ❌ 真机调试时页面完全空白，只有底部导航栏

## 根本原因
**99% 的情况是域名未配置！**

微信小程序在真机上对网络请求有严格限制，必须在微信公众平台配置合法域名。

## ⚡ 立即修复步骤

### 步骤 1: 配置域名（必须！）

1. **登录微信公众平台**
   - 访问：https://mp.weixin.qq.com/
   - 使用小程序管理员账号登录

2. **进入开发设置**
   - 点击左侧菜单 **"开发"** -> **"开发管理"**
   - 点击 **"开发设置"** 标签

3. **配置服务器域名**
   - 找到 **"服务器域名"** 部分
   - 点击 **"修改"** 按钮
   - 在 **"request合法域名"** 中添加：
     ```
     https://www.cardesignspace.com
     ```
   - 在 **"uploadFile合法域名"** 中添加：
     ```
     https://www.cardesignspace.com
     ```
   - 在 **"downloadFile合法域名"** 中添加：
     ```
     https://www.cardesignspace.com
     ```
   - 点击 **"保存"**

4. **等待生效**
   - 配置后需要等待 **5-10 分钟** 生效
   - 可以尝试重新打开小程序

### 步骤 2: 验证修复

1. **清除小程序缓存**
   - 在真机上：长按小程序图标 -> **"设置"** -> **"清除缓存"**
   - 或者在微信中：**"我"** -> **"设置"** -> **"通用"** -> **"存储空间"** -> **"清理"**

2. **重新打开小程序**
   - 完全关闭小程序
   - 重新扫码或搜索打开

3. **检查页面**
   - 页面应该能正常显示内容
   - 如果还有问题，查看控制台错误信息

## 🔍 如何查看错误信息

### 方法 1: 真机调试模式

1. 在微信开发者工具中点击 **"预览"** 或 **"真机调试"**
2. 用微信扫码打开小程序
3. 在真机上：点击右上角 **"..."** -> **"打开调试"**
4. 回到开发者工具，查看 **"Console"** 面板

### 方法 2: 查看控制台日志

在控制台中查找：
- `=== API 请求失败 ===` - 网络请求失败
- `域名未配置` - 域名问题
- `request:fail domain not in whitelist` - 域名不在白名单

## 📋 检查清单

在配置域名前，确认：

- [ ] 域名使用 **HTTPS**（不是 HTTP）
- [ ] 域名已通过 **ICP 备案**
- [ ] 域名格式正确（不要带 `/api` 后缀，只配置根域名）
- [ ] 已保存配置并等待生效

## ⚠️ 常见错误

### 错误 1: "域名格式不正确"
- ❌ 错误：`https://www.cardesignspace.com/api`
- ✅ 正确：`https://www.cardesignspace.com`

### 错误 2: "域名未备案"
- 解决方案：域名必须先通过 ICP 备案

### 错误 3: "配置后还是空白"
- 等待 5-10 分钟让配置生效
- 清除小程序缓存
- 重新打开小程序

## 🆘 如果还是不行

1. **确认域名配置正确**
   - 截图微信公众平台的域名配置页面
   - 确认已保存

2. **查看控制台错误**
   - 截图控制台的完整错误信息
   - 特别关注 `request:fail` 相关的错误

3. **测试网络连接**
   - 在真机上用浏览器访问：https://www.cardesignspace.com
   - 确认可以正常访问

4. **检查 API 地址**
   - 确认 `wechat/app.js` 中的 `apiBaseUrl` 正确
   - 当前应该是：`https://www.cardesignspace.com/api`

## 📞 需要帮助？

如果以上步骤都无法解决问题，请提供：
1. 微信公众平台域名配置截图
2. 控制台完整错误日志（截图）
3. 真机上的网络测试结果

---

**重要提示**：开发者工具可以关闭域名检查，但真机必须配置！这是微信小程序的安全机制。

