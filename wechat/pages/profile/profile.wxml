<!--pages/profile/profile.wxml-->
<view class="profile-page">
  <!-- æœªç™»å½•çŠ¶æ€ -->
  <view class="not-login" wx:if="{{!isAuthenticated}}">
    <view class="not-login-content">
      <text class="not-login-text">è¯·å…ˆç™»å½•</text>
      <button class="btn-primary" bindtap="goToLogin">ç™»å½•</button>
    </view>
  </view>

  <!-- å·²ç™»å½•çŠ¶æ€ -->
  <view class="profile-content" wx:if="{{isAuthenticated}}">
    <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
    <view class="user-card">
      <image 
        class="user-avatar" 
        src="{{user.avatar || '/images/default-avatar.png'}}"
        mode="aspectFill"
      />
      <view class="user-info">
        <text class="user-name">{{user.username}}</text>
        <text class="user-email" wx:if="{{user.email}}">{{user.email}}</text>
      </view>
      <view class="edit-btn" bindtap="editProfile">
        <text>ç¼–è¾‘</text>
      </view>
    </view>

    <!-- åŠŸèƒ½åˆ—è¡¨ -->
    <view class="menu-list">
      <view class="menu-item" bindtap="goToImageUpload">
        <text class="menu-icon">ğŸ“¤</text>
        <text class="menu-text">æˆ‘çš„ä¸Šä¼ </text>
        <text class="menu-arrow">></text>
      </view>
      <view class="menu-item" bindtap="goToFavorites">
        <text class="menu-icon">â­</text>
        <text class="menu-text">æˆ‘çš„æ”¶è—</text>
        <text class="menu-arrow">></text>
      </view>
      <view class="menu-item" bindtap="goToSettings">
        <text class="menu-icon">âš™ï¸</text>
        <text class="menu-text">è®¾ç½®</text>
        <text class="menu-arrow">></text>
      </view>
    </view>

    <!-- é€€å‡ºç™»å½• -->
    <view class="logout-section">
      <button class="btn-secondary logout-btn" bindtap="onLogout">é€€å‡ºç™»å½•</button>
    </view>
  </view>
</view>

