# 真机调试日志查看指南

## 问题：页面空白

如果真机调试时页面显示空白，通常是因为：
1. **网络请求失败**（最常见）
2. **域名未配置**
3. **数据格式错误**

## 如何查看日志

### 方法 1: 在微信开发者工具中查看

1. 点击 **"工具"** -> **"真机调试"**
2. 选择 **"开始调试"**
3. 在真机上打开小程序
4. 回到开发者工具，查看 **"Console"** 面板

### 方法 2: 在真机上查看

1. 在真机上打开小程序
2. 如果页面空白，查看右上角的 **"..."** 菜单
3. 选择 **"打开调试"**（如果可用）
4. 重新打开小程序，查看控制台日志

## 关键日志信息

### 1. 小程序启动日志

```
小程序启动
系统信息: {...}
网络类型: wifi/4g/5g
```

### 2. API 请求日志

```
=== API 请求 ===
URL: https://www.cardesignspace.com/api/models
Method: GET
Data: {...}
```

### 3. API 响应日志

```
=== API 响应 ===
URL: https://www.cardesignspace.com/api/models
Status Code: 200
Response Data: {...}
```

### 4. 错误日志

如果请求失败，会看到：
```
=== API 请求失败 ===
URL: https://www.cardesignspace.com/api/models
Error Message: request:fail ...
```

## 常见错误及解决方案

### 错误 1: `request:fail domain not in whitelist`

**原因**：域名未在微信公众平台配置

**解决方案**：
1. 登录微信公众平台
2. 进入 **"开发"** -> **"开发管理"** -> **"开发设置"**
3. 在 **"服务器域名"** 中添加：
   - `https://www.cardesignspace.com`
4. 保存并等待生效（可能需要几分钟）

### 错误 2: `request:fail timeout`

**原因**：请求超时

**解决方案**：
1. 检查网络连接
2. 检查服务器是否正常运行
3. 检查 API 地址是否正确

### 错误 3: `request:fail network error`

**原因**：网络连接失败

**解决方案**：
1. 检查手机网络连接
2. 检查 WiFi 是否正常
3. 尝试切换网络（WiFi/移动数据）

### 错误 4: 页面空白但无错误日志

**原因**：数据格式错误或数据为空

**解决方案**：
1. 查看控制台中的 **"响应数据"** 日志
2. 检查数据格式是否正确
3. 检查是否有数据返回

## 调试步骤

### 步骤 1: 检查网络请求

在控制台中查找：
- `=== API 请求 ===` - 确认请求已发送
- `=== API 响应 ===` - 确认收到响应
- `=== API 请求失败 ===` - 如果有，查看错误信息

### 步骤 2: 检查数据格式

查看响应数据：
```javascript
Response Data: {
  data: [...],  // 应该是数组
  status: 'success'
}
```

### 步骤 3: 检查页面状态

在控制台中查找：
- `=== 开始加载首页数据 ===`
- `当前数据状态: {...}`
- `=== 首页数据加载完成 ===`

### 步骤 4: 检查错误信息

如果看到错误：
- 查看 `错误详情` 日志
- 查看 `Error Message` 内容
- 根据错误信息查找解决方案

## 快速检查清单

- [ ] 网络连接正常
- [ ] 域名已在微信公众平台配置
- [ ] API 地址正确（`https://www.cardesignspace.com/api`）
- [ ] 服务器正常运行
- [ ] 控制台有请求日志
- [ ] 控制台有响应日志
- [ ] 数据格式正确
- [ ] 页面状态正确（loading/error/empty）

## 如果问题依然存在

1. **截图控制台日志**，包括：
   - API 请求日志
   - API 响应日志（如果有）
   - 错误日志（如果有）

2. **检查网络**：
   - 在真机上打开浏览器，访问 `https://www.cardesignspace.com`
   - 确认可以正常访问

3. **检查域名配置**：
   - 登录微信公众平台
   - 确认域名已正确配置
   - 确认已保存并生效

4. **清除缓存**：
   - 在开发者工具中清除缓存
   - 在真机上清除小程序缓存（长按小程序图标 -> 设置 -> 清除缓存）

## 联系支持

如果以上步骤都无法解决问题，请提供：
1. 控制台完整日志（截图）
2. 错误信息（如果有）
3. 网络检查结果
4. 域名配置截图

