# 真机调试检查清单

## ⚠️ 真机上没有内容显示 - 快速检查

### 1. 域名白名单配置（最重要！）

**必须配置**：在微信公众平台配置合法域名

1. 登录 [微信公众平台](https://mp.weixin.qq.com/)
2. 进入"开发" -> "开发管理" -> "开发设置"
3. 在"服务器域名"中配置：
   - **request合法域名**：`https://www.cardesignspace.com`
   - **uploadFile合法域名**：`https://www.cardesignspace.com`
   - **downloadFile合法域名**：`https://www.cardesignspace.com`

**注意**：
- ✅ 域名必须使用 HTTPS
- ✅ 域名必须经过 ICP 备案
- ✅ 配置后需要等待几分钟生效
- ❌ 开发者工具可以关闭域名检查，但真机必须配置

### 2. 开启真机调试

1. 在微信开发者工具中点击"预览"
2. 用微信扫码打开小程序
3. 在手机上打开调试模式：
   - 点击右上角"..."菜单
   - 选择"打开调试"
4. 查看控制台错误信息

### 3. 检查网络请求

在真机调试模式下：
1. 查看"调试器" -> "Network"
2. 检查 API 请求是否成功
3. 查看请求 URL 和响应内容

### 4. 常见错误信息

| 错误信息 | 原因 | 解决方案 |
|---------|------|---------|
| `request:fail domain not in whitelist` | 域名未配置 | 在微信公众平台配置合法域名 |
| `request:fail timeout` | 请求超时 | 检查网络或增加超时时间 |
| `request:fail` | 网络连接失败 | 检查手机网络设置 |
| 页面空白 | 数据未加载 | 检查数据加载逻辑和错误处理 |

### 5. 调试步骤

1. **开启调试模式**
   ```
   手机微信 -> 小程序 -> 右上角菜单 -> 打开调试
   ```

2. **查看控制台**
   - 在开发者工具中查看"调试器" -> "Console"
   - 查看是否有错误信息
   - 查看数据加载日志

3. **检查网络请求**
   - 在"调试器" -> "Network" 中查看请求
   - 确认请求 URL 正确
   - 确认响应状态码为 200

4. **检查数据**
   - 查看 `console.log` 输出
   - 确认数据是否正确返回
   - 确认数据格式是否正确

### 6. 快速测试

在真机上测试以下功能：
- [ ] 首页是否能加载
- [ ] 品牌列表是否显示
- [ ] 车型列表是否显示
- [ ] 搜索功能是否正常
- [ ] 图片是否能正常显示

### 7. 如果还是不行

1. **检查 API 服务器**
   - 确认服务器正常运行
   - 确认域名可以访问
   - 检查服务器日志

2. **检查代码**
   - 查看是否有 JavaScript 错误
   - 检查数据绑定是否正确
   - 确认错误处理是否完善

3. **查看详细日志**
   - 在关键位置添加 `console.log`
   - 查看数据加载流程
   - 确认问题所在

## 重要提示

⚠️ **真机调试必须配置合法域名！**

开发者工具中可以关闭域名检查（`urlCheck: false`），但真机上必须配置合法域名，否则所有网络请求都会失败。

